# 学生信息管理系统

## 1. 核心概念
- 定义：实现一个简单的学生信息管理系统，支持增删改查操作
- 关键特性：数据存储、文件操作、菜单交互、结构体使用

## 2. 语法规则
- 基本语法：使用结构体、数组、文件流、循环控制
- 代码示例：
```cpp
#include <iostream>
#include <fstream>
#include <string>
#include <vector>

struct Student {
    int id;
    std::string name;
    int age;
    double score;
};

class StudentManager {
private:
    std::vector<Student> students;
    
public:
    // 添加学生
    void addStudent() {
        Student s;
        std::cout << "请输入学号: ";
        std::cin >> s.id;
        std::cout << "请输入姓名: ";
        std::cin >> s.name;
        std::cout << "请输入年龄: ";
        std::cin >> s.age;
        std::cout << "请输入成绩: ";
        std::cin >> s.score;
        
        students.push_back(s);
        std::cout << "学生信息添加成功！" << std::endl;
    }
    
    // 显示所有学生
    void showAllStudents() {
        if (students.empty()) {
            std::cout << "暂无学生信息！" << std::endl;
            return;
        }
        
        std::cout << "学号\t姓名\t年龄\t成绩" << std::endl;
        for (const auto& s : students) {
            std::cout << s.id << "\t" << s.name << "\t" 
                      << s.age << "\t" << s.score << std::endl;
        }
    }
    
    // 查找学生
    void findStudent() {
        int id;
        std::cout << "请输入要查找的学号: ";
        std::cin >> id;
        
        for (const auto& s : students) {
            if (s.id == id) {
                std::cout << "找到学生信息: " << std::endl;
                std::cout << "学号: " << s.id << "\t姓名: " << s.name 
                          << "\t年龄: " << s.age << "\t成绩: " << s.score << std::endl;
                return;
            }
        }
        std::cout << "未找到该学号的学生！" << std::endl;
    }
    
    // 删除学生
    void deleteStudent() {
        int id;
        std::cout << "请输入要删除的学号: ";
        std::cin >> id;
        
        for (auto it = students.begin(); it != students.end(); ++it) {
            if (it->id == id) {
                students.erase(it);
                std::cout << "学生信息删除成功！" << std::endl;
                return;
            }
        }
        std::cout << "未找到该学号的学生！" << std::endl;
    }
    
    // 保存到文件
    void saveToFile() {
        std::ofstream file("students.txt");
        if (!file) {
            std::cout << "文件打开失败！" << std::endl;
            return;
        }
        
        for (const auto& s : students) {
            file << s.id << " " << s.name << " " << s.age << " " << s.score << std::endl;
        }
        file.close();
        std::cout << "数据保存成功！" << std::endl;
    }
    
    // 从文件加载
    void loadFromFile() {
        std::ifstream file("students.txt");
        if (!file) {
            std::cout << "文件不存在或打开失败！" << std::endl;
            return;
        }
        
        students.clear();
        Student s;
        while (file >> s.id >> s.name >> s.age >> s.score) {
            students.push_back(s);
        }
        file.close();
        std::cout << "数据加载成功！" << std::endl;
    }
};

int main() {
    StudentManager manager;
    int choice;
    
    do {
        std::cout << "\n=== 学生信息管理系统 ===" << std::endl;
        std::cout << "1. 添加学生" << std::endl;
        std::cout << "2. 显示所有学生" << std::endl;
        std::cout << "3. 查找学生" << std::endl;
        std::cout << "4. 删除学生" << std::endl;
        std::cout << "5. 保存数据" << std::endl;
        std::cout << "6. 加载数据" << std::endl;
        std::cout << "0. 退出系统" << std::endl;
        std::cout << "请选择操作: ";
        std::cin >> choice;
        
        switch (choice) {
            case 1: manager.addStudent(); break;
            case 2: manager.showAllStudents(); break;
            case 3: manager.findStudent(); break;
            case 4: manager.deleteStudent(); break;
            case 5: manager.saveToFile(); break;
            case 6: manager.loadFromFile(); break;
            case 0: std::cout << "感谢使用！" << std::endl; break;
            default: std::cout << "无效选择！" << std::endl;
        }
    } while (choice != 0);
    
    return 0;
}
```
- 注意事项：文件操作错误处理、内存管理、输入验证

## 3. 常见用法
- 场景1：简单的学生信息管理
  - 使用结构体存储学生信息
  - 实现基本的增删改查功能

- 场景2：增强版管理系统（支持排序和统计）
```cpp
#include <algorithm>
#include <numeric>

// 在StudentManager类中添加新方法
class StudentManager {
    // ... 已有代码
    
    // 按成绩排序
    void sortByScore() {
        std::sort(students.begin(), students.end(), 
                 [](const Student& a, const Student& b) {
                     return a.score > b.score; // 降序排列
                 });
        std::cout << "按成绩排序完成！" << std::endl;
    }
    
    // 统计信息
    void showStatistics() {
        if (students.empty()) {
            std::cout << "暂无学生信息！" << std::endl;
            return;
        }
        
        double total = std::accumulate(students.begin(), students.end(), 0.0,
                                      [](double sum, const Student& s) {
                                          return sum + s.score;
                                      });
        double average = total / students.size();
        
        auto maxScore = std::max_element(students.begin(), students.end(),
                                        [](const Student& a, const Student& b) {
                                            return a.score < b.score;
                                        });
        auto minScore = std::min_element(students.begin(), students.end(),
                                        [](const Student& a, const Student& b) {
                                            return a.score < b.score;
                                        });
        
        std::cout << "统计信息：" << std::endl;
        std::cout << "学生总数: " << students.size() << std::endl;
        std::cout << "平均成绩: " << average << std::endl;
        std::cout << "最高分: " << maxScore->score << " (" << maxScore->name << ")" << std::endl;
        std::cout << "最低分: " << minScore->score << " (" << minScore->name << ")" << std::endl;
    }
};
```

## 4. 易错点/坑
- 错误示例：
```cpp
// 使用原始数组，无法动态扩展
Student students[100];  // 限制了学生数量
int count = 0;
```
- 原因：固定数组大小限制系统扩展性
- 修正方案：使用std::vector动态数组

- 错误示例：
```cpp
// 文件操作没有错误处理
std::ofstream file("students.txt");
// 直接写入，不检查文件是否成功打开
```
- 原因：可能导致文件写入失败而无提示
- 修正方案：检查文件流状态，提供错误信息

## 5. 拓展补充
- 关联知识点：结构体、容器、文件I/O、算法、异常处理
- 进阶延伸：数据库集成、图形界面、网络通信、权限管理