# 变量与数据类型

## 1. 核心概念

### 定义
- **变量**：程序中用于存储数据的命名内存位置
- **数据类型**：定义变量可以存储的数据种类和大小

### 关键特性
- **强类型语言**：变量必须声明类型，类型检查严格
- **内存管理**：变量类型决定内存分配大小
- **作用域**：变量在特定代码块内有效
- **生命周期**：变量从创建到销毁的时间

## 2. 语法规则

### 基本语法
```cpp
数据类型 变量名 = 初始值;
```

### 代码示例
```cpp
#include <iostream>
using namespace std;

int main() {
    // 基本数据类型声明
    int age = 25;                    // 整型变量
    double salary = 5000.50;         // 双精度浮点型
    char grade = 'A';                // 字符型
    bool isActive = true;            // 布尔型
    
    // 常量的声明
    const float PI = 3.14159f;       // 常量浮点数
    const int MAX_SIZE = 100;        // 常量整数
    
    // 输出变量值
    cout << "年龄: " << age << endl;
    cout << "工资: " << salary << endl;
    cout << "等级: " << grade << endl;
    cout << "是否活跃: " << isActive << endl;
    cout << "圆周率: " << PI << endl;
    
    return 0;
}
```

### 注意事项
- 变量名必须以字母或下划线开头
- 变量名不能是C++关键字
- 变量作用域从声明点开始
- 未初始化的变量值不确定

## 3. 常见用法

### 场景1：基本数据类型的使用
```cpp
// 数值计算
int a = 10, b = 20;
int sum = a + b;
int product = a * b;

double x = 10.5, y = 3.2;
double division = x / y;

// 字符处理
char firstChar = 'H';
char secondChar = 'i';
cout << firstChar << secondChar << endl;

// 布尔逻辑
bool isStudent = true;
bool hasPassed = false;
if (isStudent && !hasPassed) {
    cout << "需要继续学习" << endl;
}
```

### 场景2：数据类型转换
```cpp
// 隐式类型转换
int num1 = 10;
double num2 = num1;  // int转double

// 显式类型转换（C风格）
double price = 99.99;
int intPrice = (int)price;  // double转int，截断小数部分

// 显式类型转换（C++风格）
float f = 3.14f;
int i = static_cast<int>(f);  // 更安全的转换

cout << "原始价格: " << price << endl;
cout << "整数价格: " << intPrice << endl;
```

## 4. 易错点/坑

### 错误示例1：未初始化变量
```cpp
int uninitialized;
cout << uninitialized << endl;  // 输出随机值
```
**原因**：未初始化的变量包含内存中的随机数据
**修正方案**：
```cpp
int initialized = 0;  // 总是初始化变量
cout << initialized << endl;
```

### 错误示例2：整数溢出
```cpp
int maxInt = 2147483647;  // int最大值
maxInt = maxInt + 1;      // 溢出，变为最小值
cout << maxInt << endl;   // 输出-2147483648
```
**原因**：超出数据类型表示范围
**修正方案**：
```cpp
long long bigNumber = 2147483647LL;
bigNumber = bigNumber + 1;  // 使用更大的数据类型
cout << bigNumber << endl;
```

### 错误示例3：错误的类型转换
```cpp
double result = 5 / 2;      // 结果为2.0，不是2.5
cout << result << endl;
```
**原因**：整数除法后再转换为double
**修正方案**：
```cpp
double result = 5.0 / 2;    // 至少一个操作数是浮点数
cout << result << endl;     // 输出2.5
```

## 5. 拓展补充

### 关联知识点
- **指针**：存储内存地址的变量类型
- **引用**：变量的别名，共享相同内存
- **数组**：相同类型元素的集合
- **结构体**：自定义复合数据类型

### 进阶延伸
- **类型推断**：C++11引入的`auto`关键字
- **范围for循环**：基于数据类型的迭代
- **模板**：泛型编程中的类型参数化
- **智能指针**：自动内存管理的指针类型