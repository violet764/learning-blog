# 流程控制语句

## 1. 核心概念

### 定义
- **流程控制**：控制程序执行顺序的语句
- **分支结构**：根据条件选择执行路径
- **循环结构**：重复执行代码块
- **跳转语句**：改变程序执行流程

### 关键特性
- **条件判断**：基于布尔表达式决定执行路径
- **循环控制**：通过条件或计数器控制重复次数
- **代码块**：使用花括号{}定义语句组
- **作用域**：变量在代码块内的有效范围

## 2. 语法规则

### 基本语法
```cpp
// if语句
if (条件) { 语句; }

// if-else语句  
if (条件) { 语句1; } else { 语句2; }

// switch语句
switch (表达式) {
    case 值1: 语句1; break;
    case 值2: 语句2; break;
    default: 语句n;
}

// for循环
for (初始化; 条件; 更新) { 循环体; }

// while循环
while (条件) { 循环体; }

// do-while循环
do { 循环体; } while (条件);
```

### 代码示例
```cpp
#include <iostream>
using namespace std;

int main() {
    // if-else语句示例
    int score = 85;
    if (score >= 90) {
        cout << "优秀" << endl;
    } else if (score >= 80) {
        cout << "良好" << endl;
    } else if (score >= 60) {
        cout << "及格" << endl;
    } else {
        cout << "不及格" << endl;
    }
    
    // switch语句示例
    char grade = 'B';
    switch (grade) {
        case 'A':
            cout << "优秀" << endl;
            break;
        case 'B':
            cout << "良好" << endl;
            break;
        case 'C':
            cout << "及格" << endl;
            break;
        default:
            cout << "不及格" << endl;
    }
    
    // for循环示例
    cout << "for循环: ";
    for (int i = 1; i <= 5; i++) {
        cout << i << " ";
    }
    cout << endl;
    
    // while循环示例
    cout << "while循环: ";
    int j = 1;
    while (j <= 3) {
        cout << j << " ";
        j++;
    }
    cout << endl;
    
    // do-while循环示例
    cout << "do-while循环: ";
    int k = 1;
    do {
        cout << k << " ";
        k++;
    } while (k <= 3);
    cout << endl;
    
    return 0;
}
```

### 注意事项
- if语句的条件必须是布尔表达式
- switch的case值必须是常量表达式
- 循环中要确保有终止条件
- break用于跳出循环或switch
- continue用于跳过当前循环迭代

## 3. 常见用法

### 场景1：嵌套循环
```cpp
// 打印乘法表
cout << "乘法表:" << endl;
for (int i = 1; i <= 9; i++) {
    for (int j = 1; j <= i; j++) {
        cout << j << "×" << i << "=" << i*j << "\t";
    }
    cout << endl;
}
```

### 场景2：break和continue的使用
```cpp
// 查找第一个满足条件的数
for (int i = 1; i <= 10; i++) {
    if (i % 3 == 0) {
        cout << "找到第一个3的倍数: " << i << endl;
        break;  // 找到后立即退出循环
    }
}

// 跳过某些迭代
cout << "1-10中不是3的倍数的数: ";
for (int i = 1; i <= 10; i++) {
    if (i % 3 == 0) {
        continue;  // 跳过3的倍数
    }
    cout << i << " ";
}
cout << endl;
```

### 场景3：复杂的条件判断
```cpp
int age = 25;
bool hasLicense = true;
bool hasInsurance = true;

// 复合条件判断
if (age >= 18 && hasLicense) {
    if (hasInsurance) {
        cout << "可以合法驾驶" << endl;
    } else {
        cout << "需要购买保险" << endl;
    }
} else {
    cout << "不符合驾驶条件" << endl;
}
```

## 4. 易错点/坑

### 错误示例1：忘记break语句
```cpp
int day = 2;
switch (day) {
    case 1: cout << "周一";
    case 2: cout << "周二";  // 会继续执行后面的case
    case 3: cout << "周三";
    default: cout << "其他";
}
// 输出：周二周三其他
```
**原因**：switch语句会从匹配的case开始执行，直到遇到break
**修正方案**：
```cpp
int day = 2;
switch (day) {
    case 1: cout << "周一"; break;
    case 2: cout << "周二"; break;  // 添加break
    case 3: cout << "周三"; break;
    default: cout << "其他"; break;
}
// 输出：周二
```

### 错误示例2：无限循环
```cpp
int i = 0;
while (i < 5) {
    cout << i << " ";
    // 忘记i++，导致无限循环
}
```
**原因**：循环条件永远为真
**修正方案**：
```cpp
int i = 0;
while (i < 5) {
    cout << i << " ";
    i++;  // 确保循环变量更新
}
```

### 错误示例3：作用域问题
```cpp
if (true) {
    int x = 10;  // x只在if块内有效
}
cout << x << endl;  // 错误！x未定义
```
**原因**：变量作用域仅限于声明它的代码块
**修正方案**：
```cpp
int x;  // 在外部声明
if (true) {
    x = 10;  // 赋值
}
cout << x << endl;  // 正确
```

## 5. 拓展补充

### 关联知识点
- **布尔逻辑**：条件表达式的基础
- **作用域规则**：变量可见性范围
- **函数调用**：另一种流程控制方式
- **异常处理**：错误情况下的流程控制

### 进阶延伸
- **范围for循环**：C++11引入的简化循环语法
- **goto语句**：无条件跳转（不推荐使用）
- **递归函数**：通过函数调用实现循环
- **协程**：C++20引入的异步流程控制